define("disk-system:static/js/pcsDownloadUtil.js",function(t,n,s){function e(){throw new Error("can not be instantiated")}var i=t("base:widget/libs/jquerypacket.js"),o=t("base:widget/tools/tools.js");e.fixMultiDomain=function(t,n){var s="",e="http:"===document.location.protocol;this.currentDomainIndex>=this.domains.length&&(this.currentDomainIndex=0);var i=n?n:this.currentDomainIndex++;return"string"==typeof t&&e&&(s=t.replace(this.defaultDomain,this.domains[i])),s},e._sList=null,e._sIndex=-1,e._sConnectedIndex=-1,e._sResult=0,e._path=null,e._sRevision=0,e.currentDomainIndex=0,e.defaultDomain="d.pcs.baidu.com",e.domains=["d0.pcs.baidu.com","d1.pcs.baidu.com","d2.pcs.baidu.com","d3.pcs.baidu.com","d4.pcs.baidu.com","d5.pcs.baidu.com","d6.pcs.baidu.com","d7.pcs.baidu.com","d8.pcs.baidu.com","d9.pcs.baidu.com"],e._getHostList=function(t){i.ajax({url:"https://d.pcs.baidu.com/rest/2.0/pcs/manage?method=listhost&channel=chunlei&clienttype=0&t="+(new Date).getTime(),method:"get",dataType:"jsonp",success:function(n){n&&n.list&&(e._path=n.path,e._sList=n.list,e._sRevision=n.rev||0,e._startTesting(t))},error:function(){"function"==typeof t&&t.call(e,0)}})},e._startTesting=function(t){e._sIndex++;var n=e._sList[e._sIndex];if(e._sIndex<e._sList.length){var s=new Image;s.onload=function(){e._sConnectedIndex=e._sIndex,e._sResult+=n.id,e._startTesting(t)},s.onerror=function(){e._startTesting(t)},s.src="//"+n.host+(e._path||"/monitor.jpg?xcode=1a81b0bbd448fc368d78cc336e28561a")+(new Date).getTime()}else"function"==typeof t&&t.call(e,1,e._sConnectedIndex,e._sList,e._sResult,e._sRevision,e._path)},e.initPcsDownloadCdnConnectivity=function(t){this._getHostList(function(n,s,e,i,c,a){1==n&&(o.setCookie("cflag",i+":"+c,10,"/",".baidu.com"),a&&"function"==typeof t&&t.call(null,a))})},s.exports=e});