define("function-widget-1:timeline/util/context.js",function(t,n,e){var o={context:null},i={getContext:function(){return o.context},setContext:function(t){o.context=t}};e.exports=i});
;define("function-widget-1:timeline/start.js",function(e,t,n){var i=e("base:widget/libs/jquerypacket.js"),o=(e("base:widget/storage/storage.js"),e("function-widget-1:timeline/util/context.js")),a={checkTimeLine:function(){i.browser.msie&&6==i.browser.version||i.getJSON("/api/image/getuinfo",function(e){e&&0==e.errno&&2==e.lt_flag&&a.doNewNavigatorIcon()})},doNewNavigatorIcon:function(){var e=o.getContext();e.nav&&e.nav.changeItem&&o.getContext().nav.changeItem({index:1,href:"/disk/timeline"})}};n.exports={start:function(e){o.setContext(e),a.checkTimeLine()}}});
;define("function-widget-1:puzzle/context.js",function(t,n,e){var o={context:null},c={getContext:function(){return o.context},setContext:function(t){o.context=t}};e.exports=c});
;define("function-widget-1:puzzle/util/fileMeitu.js",function(require,exports,module){var $=require("base:widget/libs/jquerypacket.js"),ContextUtil=require("function-widget-1:puzzle/context.js"),localStorage=require("base:widget/storage/storage.js"),fileMeitu=function(){this.dialog=null},setParam=function(e,t,i){var o=new RegExp("(?:^|\\?|#|&)"+e+"=([^&#]*)(?:$|&|#)","i"),n=o.exec(i||location.href);return null!=n?i.replace(n[1],t):null};fileMeitu.prototype.build=function(e,t){var i,o=this,n=o.flashSupport(o.getFlashVersion()),l=e,a=[],r=l.length;if(r&&1===r)a.push(encodeURIComponent(setParam("size","c850_u580",l[0].thumb||l[0].thumbs.url3))),i=encodeURIComponent(l[0].path);else for(var u=0;u<l.length;u++){var s=setParam("size","c850_u580",l[u].thumb||l[u].thumbs.url3);a.push(encodeURIComponent(s))}return n?(localStorage.setItem("picArray",a),localStorage.setItem("picPath",i),"object"==typeof _hmt&&_hmt.push(["_trackEvent","图片在线编辑","单张页点击美化入口的次数"]),window.open(location.protocol+"//"+window.location.host+"/disk/editpic"),void("object"==typeof t&&t())):!1},fileMeitu.prototype.getFlashVersion=function(){var _this=this,f=null,n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0,len=n.plugins.length;len>ii;ii++)if(-1!=n.plugins[ii].name.indexOf("Shockwave Flash")){f=n.plugins[ii].description.split("Shockwave Flash ")[1];break}}else if(window.ActiveXObject)for(var ii=11;ii>=2;ii--)try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}return f},fileMeitu.prototype.flashSupport=function(e){return null==e||parseFloat(e,10)<10.2?(fileMeitu.dialog=ContextUtil.getContext().ui.confirm({title:"友好提示",body:"要使用图片在线编辑功能，您需要安装Flash播放器10.2.0 或更高的版本。",sureText:"安装",canceText:"取消",content:null,onSure:function(){window.open("http://get.adobe.com/cn/flashplayer"),fileMeitu.dialog.hide()},onCancel:function(){fileMeitu.dialog.hide()}}),fileMeitu.dialog.show(),!1):!0},module.exports=fileMeitu});
;define("function-widget-1:puzzle/start.js",function(t,e,i){var s=t("function-widget-1:puzzle/util/fileMeitu.js"),n=t("function-widget-1:puzzle/context.js"),l=new s;i.exports={start:function(t,e){var i;n.setContext(t),i="object"==typeof e&&e.filesList?e.filesList.length>0?e.filesList:[e.filesList]:t.list.getSelected(),l.build(i)}}});
;define("function-widget-1:log/util/logForSystem.js",function(t,o,e){"use strict";var i=t("system-core:context/context.js").instanceForSystem,n={setLocalLog:null,checkUserPlatform:function(){for(var t=["linux","windows","win","mac","ipad"],o=navigator.platform,e=!0,n=0;n<t.length;n++)if(o.toLowerCase().indexOf(t[n])>-1){e=!1;break}e&&i.updateLog&&i.updateLog.setLocalLog({product:"pan",op:"guardian",from:"browserPlugin",type:"modifyPlatform",detailKey:o})},init:function(){setTimeout(function(){n.checkUserPlatform()})}},r={init:n.init};e.exports=r});
;define("function-widget-1:log/context.js",function(t,n,e){var o={context:null},c={getContext:function(){return o.context},setContext:function(t){o.context=t}};e.exports=c});
;define("function-widget-1:log/start.js",function(t,n,i){"use strict";var o=t("function-widget-1:log/context.js"),e=t("function-widget-1:log/util/logForSystem.js");i.exports={start:function(t){o.setContext(t),e.init()}}});
;define("function-widget-1:faceSearch/start.js",function(i,e,t){t.exports={start:function(i,e){var t,s;if(s="object"==typeof e&&e.filesList?e.filesList.length>0?e.filesList:[e.filesList]:i.list.getSelected(),s.length&&s.length>1)return void i.ui.tip({mode:"caution",msg:"只需选择一张图片哦~"});if(t=s[0],!t.fs_id)throw new Error("the fs_id of file is must!");window.open("/disk/facesearch?fsid="+t.fs_id)}}});