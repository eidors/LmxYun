!function(){var n=window,e=n.document,o=require("disk-system:widget/data/yunData.js").get(),t=require("system-core:context/context.js"),i=t.instanceForSystem.libs.JQuery,r=t.instanceForSystem.libs.underscore,a=t.instanceForSystem.message,c=t.instanceForSystem.tools.baseService;!function(e){void 0===e&&(e=n.disk={}),e.DEBUG=function(){var e=n.location.host;return n.console?"pan.baidu.com"===e||"lab.pan.baidu.com"===e?!1:!0:!1}(),e.uniqueId=0,e.obtainId=function(){return"_disk_id_"+ ++e.uniqueId},e.common={}}(n.disk);var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/~！@#￥%……&",u=String.fromCharCode,l=function(n){if(n.length<2){var e=n.charCodeAt(0);return 128>e?n:2048>e?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e)}var e=65536+1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(n){return(n+""+Math.random()).replace(d,l)},g=function(n){var e=[0,2,1][n.length%3],o=n.charCodeAt(0)<<16|(n.length>1?n.charCodeAt(1):0)<<8|(n.length>2?n.charCodeAt(2):0),t=[s.charAt(o>>>18),s.charAt(o>>>12&63),e>=2?"=":s.charAt(o>>>6&63),e>=1?"=":s.charAt(63&o)];return t.join("")},m=function(n){return n.replace(/[\s\S]{1,3}/g,g)},p=function(){return m(f((new Date).getTime()))},h=function(n,e){return e?p(String(n)).replace(/[+\/]/g,function(n){return"+"==n?"-":"_"}).replace(/=/g,""):p(String(n))};if(function(){i(document).ajaxSend(function(n,e,t){var i=h(c.getCookie("BAIDUID"));t.url+=/\?/.test(t.url)?"&channel=chunlei&web=1&app_id=250528":"?channel=chunlei&web=1&app_id=250528",("script"!==t.dataType||t.cache!==!0)&&(t.url+="&bdstoken="+o.bdstoken+"&logid="+i),t.url+="/disk/plugin"===location.pathname?"&clienttype=8&version=4.9.9.9":"132"===c.getParam("msg")&&c.getParam("devuid")?"&clienttype=8":"&clienttype=0"})}(),function(n){var e=n.async;n.async=function(n,o,t){e(n,function(){"function"==typeof o&&o.apply(this,arguments)},function(){"function"==typeof t&&t.apply(this,arguments)})}}(require),function(n){var e=n.location.host;"undefined"!=typeof n.console||"pan.baidu.com"!==e&&"yun.baidu.com"!==e||(n.console={log:function(){},assert:function(){},info:function(){},warn:function(){},error:function(){}})}(n),function(){i.browser.msie&&6===parseInt(i.browser.version,10)&&e.execCommand("backgroundimagecache",!1,!0)}(),function(n){n.trim||(n.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}(String.prototype),function(n){n.indexOf||(n.indexOf=function(n){return r.indexOf(this,n)},n.forEach||(n.forEach=function(n){return r.each(this,n)}))}(Array.prototype),function(){i.browser.msie===!0&&6==i.browser.version&&i("body").addClass("fixbug-ie6")}(),function(){var n=!1;a.listen("after-list-loaded",function(){n!==!0&&(require.async("disk-system:static/js/pcsDownloadUtil.js",function(n){n.initPcsDownloadCdnConnectivity(function(n){n&&t.instanceForSystem.file.watchCDNOfPCS(n)})}),n=!0)})}(),function(){Object.defineProperty&&(Object.defineProperty(window,"navigator",{configurable:!1,writable:!1,value:window.navigator}),Object.defineProperty(window.navigator,"platform",{configurable:!1,writable:!1,value:window.navigator.platform}),Object.defineProperty(window.navigator,"userAgent",{configurable:!1,writable:!1,value:window.navigator.userAgent}))}(),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),function(){for(var n=["Hm_lvt_773fea2ac036979ebb5fcc768d8beb67","Hm_lvt_b181fb73f90936ebd334d457c848c8b5","Hm_lvt_adf736c22cd6bcc36a1d27e5af30949e"],e="."+location.hostname,o=0;o<n.length;o++)c.setCookie(n[o],"",-1,"/",e)}(),"/disk/home"===location.pathname){var v=null,w=c.client().browserString,b=30,y=0,k=2e3;(-1!==w.indexOf("chrome")||-1!==w.indexOf("firefox")||-1!==w.indexOf("safari"))&&(v=setInterval(function(){var n=i("script"),e=n[n.length-1].src;(-1!==e.indexOf("mjaenbjdjmgolhoafkohbhhbaiedbkno")||-1!==e.indexOf("acgotaku311")||-1!==e.indexOf("BaiduExporter"))&&(t.instanceForSystem.log.send({name:"chrome-extension",sendServerLog:!0,value:w}),clearInterval(v)),++y>b&&clearInterval(v)},k),i(document).delegate("#export_menu","click",function(){t.instanceForSystem.log.send({name:"chrome-used",sendServerLog:!0,value:w})}))}"https:"===location.protocol&&"serviceWorker"in navigator&&navigator.userAgent.indexOf("Firefox")<=-1&&navigator.serviceWorker.register("/disk/serviceworker.js",{scope:"/disk/home"}).then(function(n){n.installing?console.log("Service worker installing"):n.waiting?console.log("Service worker installed"):n.active&&console.log("Service worker active")},function(n){console.log(n)});var w=c.client();if("http:"===location.protocol&&w.engine&&null!=w.engine.ie&&("ie11"===w.browserString||"edge"===w.browserString)){var S=function(n,e,o){var t=new Image;t.onload=function(n){"function"==typeof e&&e.call(null,n)},t.onerror=function(n){"function"==typeof o&&o.call(null,n)},t.src=n};S("https://"+location.host+"/yun-static/common/images/default.gif",function(){c.setCookie("secu",1,365,"/"),t.instanceForSystem.log.send({type:"httpsAccess"+w.browserString})})}}();